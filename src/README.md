# 信贷风险管理系统 🏦

一个基于机器学习的智能化信贷风险评估与管理平台，提供全面的风险分析、模型评估、业务智能和实时监控功能。

## 🌟 主要特性

### 🎯 智能风险评估
- **单笔评估**: 实时计算个人贷款申请的风险评分
- **批量处理**: 支持CSV文件批量上传和分析
- **多维度分析**: 综合考虑信用评分、收入状况、债务比例等多个因素
- **自动决策**: 基于风险阈值自动给出批准/审核/拒绝建议

### 🤖 先进模型分析
- **多模型对比**: 支持Random Forest、XGBoost、LightGBM、Neural Network等多种算法
- **性能评估**: 提供准确率、精确率、召回率、F1分数、AUC等全面指标
- **模型解释性**: 集成SHAP和LIME工具，提供模型决策解释
- **交叉验证**: K折交叉验证确保模型泛化能力

### 💼 业务智能分析
- **客户价值分析**: 客户分层和价值评估
- **盈利能力分析**: 贷款组合收益和成本分析
- **风险监控**: 实时监控违约率、逾期率等关键风险指标
- **合规检查**: 确保符合监管要求和公平放贷原则

### 📊 实时监控面板
- **系统监控**: CPU、内存、磁盘使用率实时监控
- **业务监控**: 申请量、处理时间、批准率等业务指标
- **告警中心**: 智能告警系统，及时发现和处理异常

### 📋 综合报告系统
- **多种报告类型**: 综合分析、模型性能、业务分析、风险评估等
- **多格式输出**: 支持HTML、PDF、Excel、Word格式
- **自定义模板**: 灵活的报告模板系统
- **定时生成**: 支持定时自动生成报告

## 🚀 快速开始

### 环境要求
- Python 3.8+
- 推荐使用虚拟环境

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd credit-risk-management
```

2. **创建虚拟环境**
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

3. **安装依赖**
```bash
pip install -r requirements.txt
```

4. **启动应用**
```bash
streamlit run main_app.py
```

5. **访问系统**
打开浏览器访问 `http://localhost:8501`

## 📁 项目结构

```
信贷风险管理系统/
├── main_app.py                    # 主应用程序
├── interactive_dashboard.py       # 交互式仪表板
├── enhanced_model_evaluation.py   # 增强模型评估
├── cross_validation_system.py     # 交叉验证系统
├── model_interpretability.py      # 模型解释性分析
├── performance_monitoring.py      # 性能监控
├── business_intelligence.py       # 业务智能
├── integrated_report_system.py    # 综合报告系统
├── advanced_visualization.py      # 高级可视化
├── ui_components.py              # UI组件库
├── requirements.txt              # 依赖包列表
├── README.md                     # 项目说明
└── outputs/                      # 输出目录
    ├── reports/                  # 报告文件
    ├── charts/                   # 图表文件
    └── data/                     # 数据文件
```

## 🎮 使用指南

### 1. 系统首页
- 查看系统概览和关键指标
- 快速访问各功能模块
- 监控系统状态

### 2. 风险评估
- **单笔评估**: 填写申请人信息，获得实时风险评分
- **批量评估**: 上传CSV文件，批量处理多个申请
- **历史记录**: 查看和管理历史评估记录

### 3. 模型分析
- **性能对比**: 比较不同模型的各项指标
- **解释性分析**: 了解模型决策的关键因素
- **交叉验证**: 验证模型的稳定性和泛化能力

### 4. 业务智能
- **业务概览**: 查看关键业务指标和趋势
- **客户分析**: 分析客户行为和价值分布
- **风险分析**: 监控各类风险指标
- **盈利分析**: 评估业务盈利能力

### 5. 实时监控
- **系统监控**: 监控系统资源使用情况
- **业务监控**: 实时跟踪业务指标变化
- **告警中心**: 处理系统和业务告警

### 6. 报告中心
- **生成报告**: 选择报告类型和参数生成报告
- **报告历史**: 管理历史报告文件
- **报告模板**: 使用和管理报告模板

### 7. 系统设置
- **风险阈值**: 配置风险评分阈值
- **业务规则**: 设置贷款业务规则
- **系统配置**: 调整系统参数
- **用户管理**: 管理系统用户和权限

## 🔧 配置说明

### 风险阈值配置
- **自动批准阈值**: 默认0.3，低于此值自动批准
- **自动拒绝阈值**: 默认0.8，高于此值自动拒绝
- **人工审核范围**: 0.3-0.8之间需要人工审核

### 业务规则配置
- **贷款金额范围**: 1万-500万元
- **最低信用评分**: 600分
- **最大债务收入比**: 60%
- **最低工作年限**: 2年

### 系统参数配置
- **最大并发请求**: 100个
- **请求超时时间**: 30秒
- **缓存过期时间**: 24小时
- **数据保留期**: 365天

## 📊 数据格式

### 单笔评估输入
- 贷款金额 (元)
- 年收入 (元)
- 信用评分 (300-850)
- 总债务 (元)
- 工作年限 (年)
- 是否有抵押物 (是/否)
- 是否有担保人 (是/否)

### 批量评估CSV格式
```csv
loan_amount,annual_income,credit_score,total_debt,employment_years,has_collateral,has_guarantor
200000,600000,720,100000,5,1,0
150000,450000,680,80000,3,0,1
...
```

## 🔍 模型说明

### 支持的算法
1. **Random Forest**: 随机森林，适合处理非线性关系
2. **XGBoost**: 梯度提升树，高性能和准确性
3. **LightGBM**: 轻量级梯度提升，快速训练
4. **Neural Network**: 神经网络，处理复杂模式
5. **Logistic Regression**: 逻辑回归，可解释性强

### 评估指标
- **准确率 (Accuracy)**: 正确预测的比例
- **精确率 (Precision)**: 预测为正例中实际为正例的比例
- **召回率 (Recall)**: 实际正例中被正确预测的比例
- **F1分数**: 精确率和召回率的调和平均
- **AUC**: ROC曲线下面积，衡量分类性能

### 特征重要性
系统会自动计算和显示各特征的重要性：
- 信用评分
- 债务收入比
- 年收入
- 工作年限
- 贷款金额
- 抵押物价值
- 历史违约记录

## 🛡️ 安全特性

### 数据安全
- 数据加密存储
- 访问权限控制
- 操作日志记录
- 定期安全审计

### 隐私保护
- 个人信息脱敏
- 数据访问控制
- 合规性检查
- 数据保留政策

## 📈 性能优化

### 系统性能
- 异步处理机制
- 缓存优化
- 数据库连接池
- 负载均衡支持

### 模型性能
- 特征选择优化
- 超参数调优
- 模型集成
- 增量学习支持

## 🔧 故障排除

### 常见问题

**Q: 启动时出现模块导入错误**
A: 确保已安装所有依赖包：`pip install -r requirements.txt`

**Q: 页面加载缓慢**
A: 检查系统资源使用情况，考虑增加内存或优化数据处理

**Q: 模型预测结果异常**
A: 检查输入数据格式，确保数据质量和完整性

**Q: 报告生成失败**
A: 检查输出目录权限，确保有足够的磁盘空间

### 日志查看
系统日志位置：
- 应用日志: `logs/app.log`
- 错误日志: `logs/error.log`
- 访问日志: `logs/access.log`

## 🤝 贡献指南

欢迎贡献代码和建议！

### 开发环境设置
1. Fork项目
2. 创建功能分支
3. 提交更改
4. 创建Pull Request

### 代码规范
- 使用Black进行代码格式化
- 使用Flake8进行代码检查
- 编写单元测试
- 更新文档

## 📄 许可证

本项目采用MIT许可证 - 详见 [LICENSE](LICENSE) 文件

## 📞 支持与联系

- 📧 技术支持: support@company.com
- 📱 服务热线: 400-123-4567
- 💬 在线客服: https://support.company.com
- 📚 文档中心: https://docs.company.com

## 🔄 更新日志

### v1.0.0 (2024-01-15)
- ✨ 初始版本发布
- 🎯 完整的风险评估功能
- 🤖 多模型分析支持
- 💼 业务智能分析
- 📊 实时监控面板
- 📋 综合报告系统

---

**信贷风险管理系统** - 让风险评估更智能，让决策更科学！ 🚀